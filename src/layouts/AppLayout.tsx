import { ReactNode } from "react";
import MobileNav from "../components/Navigation/MobileNav";
import Sidebar from "../components/Navigation/Sidebar";
import UserProfile from "../components/User/UserProfile";
import { useAuthStore } from "@/stores/useAuthStore";

const VeryLargeText = () => (
  <div>
    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Doloremque ea
    officiis quos cum neque iste veniam soluta aperiam! Eius veritatis unde modi
    tenetur beatae earum. Eligendi minima sunt ad aliquid ea quia enim delectus
    dolorem neque optio, explicabo tempore quisquam eveniet non beatae ipsa
    cupiditate tenetur amet modi, repudiandae doloribus eaque ipsam. Quidem ea
    sequi soluta quas hic maiores alias, error quae quibusdam repellat explicabo
    vero repudiandae laudantium iste accusamus beatae? Voluptatem magnam
    officiis, omnis molestias laboriosam illo nobis odio magni ducimus
    cupiditate obcaecati iure consequuntur, corporis eius velit nostrum, a
    facilis quidem temporibus. Maiores ut explicabo eaque, pariatur temporibus
    necessitatibus nisi consectetur odio accusamus at, vitae laboriosam incidunt
    rerum dolor magni doloribus modi sed tenetur obcaecati, id ex! Excepturi
    omnis quibusdam doloribus error? Nobis veniam error fuga ullam obcaecati,
    voluptatem natus ex eius eos, laudantium ipsum dicta ducimus nihil
    voluptatum omnis cumque quo sapiente labore fugit? Quasi, sint repellendus
    tenetur laboriosam et, ad cum porro, illum facere illo voluptatum sapiente.
    Veritatis doloribus distinctio ex voluptas quisquam, aspernatur, ducimus
    adipisci recusandae praesentium assumenda saepe error facilis et quam enim
    nisi necessitatibus ipsum a dicta accusamus in deleniti eius. Ipsam quod
    nulla voluptas est dolore inventore repellat soluta, consequuntur eaque,
    possimus quia laborum mollitia, doloremque nisi ad consequatur sequi at
    eveniet! Enim consequuntur aliquam sequi assumenda aperiam minus animi
    suscipit perferendis? Beatae magni cum consequuntur? Nobis dolor
    consequuntur velit libero sit recusandae quasi. Unde tempora animi obcaecati
    aliquid iure quidem perferendis autem veritatis voluptatum qui! Ex dolore
    consequuntur fugiat quaerat accusantium necessitatibus placeat deserunt cum
    ratione neque, esse molestias asperiores aliquid eos iusto, at enim
    blanditiis expedita. Distinctio quo dolor, cupiditate non eaque labore
    facilis accusantium dicta amet, laboriosam magni corrupti ut magnam delectus
    neque. Vero maiores modi illum facere soluta reprehenderit eveniet
    voluptates iusto. Incidunt a quos eaque ex nam illum distinctio quidem
    atque, doloremque est repellat repudiandae officiis vero suscipit non eum
    rerum reiciendis nihil fugit neque voluptatem fugiat mollitia? Aliquam sint,
    cumque id dignissimos cupiditate numquam nam commodi ea iste iusto eius
    debitis quidem, ipsam perspiciatis rerum, quo necessitatibus ad pariatur
    incidunt. Fugit illum velit, repudiandae atque modi architecto doloremque
    error eos at? In ut deserunt modi non velit illo maxime incidunt eius
    repellendus ducimus! Dolores exercitationem, nobis enim fugit provident
    impedit eos similique placeat omnis! Earum fuga excepturi neque deserunt
    autem rem ipsa dolores laboriosam reprehenderit esse, tempora dolore
    molestias blanditiis, tempore in! Earum blanditiis similique pariatur libero
    vel, debitis esse, velit numquam repellendus, tempore dolore ex. Praesentium
    laudantium eos illo beatae vitae esse, dolor nulla in quaerat a! Natus,
    suscipit dolor ratione distinctio veniam pariatur aperiam vel reprehenderit
    cum praesentium. Maiores expedita iure ut, provident quidem odit sit quae.
    Asperiores adipisci aspernatur iure repudiandae odio neque voluptatibus ipsa
    dignissimos ipsam natus, delectus, necessitatibus ad enim facilis possimus
    commodi unde, quaerat fugit maxime vel consectetur eveniet? Asperiores ipsum
    temporibus mollitia esse, laboriosam dolorum? Amet at animi suscipit aliquam
    totam est distinctio repellat odit quis neque quam optio quae, odio dolorem
    quo, illum sequi atque! Quod ut cupiditate quisquam accusantium qui ea
    similique maiores, tempora, velit non nostrum quas dicta. Tenetur totam
    nostrum dolorem fugit non iure nulla nesciunt molestiae esse alias commodi
    laudantium rerum, aliquam exercitationem modi. Repellat, tempore numquam
    nihil odit accusantium delectus! Omnis totam laudantium id saepe officia
    accusantium ullam adipisci quod aut ut temporibus consequatur, doloremque
    iusto eveniet. Laboriosam consequuntur dicta id, omnis voluptatibus hic
    perferendis. Suscipit provident eum ea esse sed totam laudantium vitae dicta
    hic rem corrupti asperiores omnis dolor quisquam vero corporis voluptatum
    ratione molestiae, doloribus delectus itaque. Neque, architecto dolores
    sapiente dolor nihil facilis et. Repellat, sunt architecto vitae optio est
    nostrum facere at magnam veniam ea beatae inventore soluta nisi maxime unde
    excepturi debitis obcaecati quis tenetur temporibus aliquam. Minus,
    exercitationem magni dignissimos tempore nemo harum dolore quis quam,
    veritatis omnis perferendis eos deleniti qui ab quisquam quaerat placeat
    sint! Placeat ea sit excepturi. Vero qui distinctio sequi minus consequuntur
    numquam maiores labore quae esse eos aliquam cum perferendis veniam
    mollitia, ab cupiditate recusandae sit necessitatibus dolores quidem impedit
    id! Unde quos aut placeat tempore fuga consequuntur mollitia quasi vel
    accusamus provident neque recusandae, expedita, repellendus porro sint
    voluptatibus odit suscipit exercitationem, possimus minima eius. Ab fugiat
    maxime qui voluptas ea, possimus debitis consequatur nostrum explicabo
    beatae repellat officiis tenetur unde. Nulla amet dolores placeat, maxime
    corrupti voluptates nemo temporibus natus suscipit itaque quibusdam atque
    quo ex repellat voluptatum. Aperiam atque, adipisci ipsam iusto dolorum
    assumenda pariatur! Dolor voluptatibus, voluptatum ipsum veritatis
    temporibus doloribus! Quisquam natus molestias voluptates. Quidem error
    deleniti, accusantium nulla voluptates et vitae alias velit sequi delectus,
    blanditiis, non id eveniet nostrum libero tempora possimus hic. Similique
    maxime reiciendis nesciunt tenetur ullam impedit quas odit, aut eaque? Vitae
    commodi porro cupiditate, reprehenderit odio quisquam eveniet molestiae?
    Nobis molestiae laudantium quasi magni consequatur laboriosam veritatis,
    repudiandae asperiores dolorem blanditiis? Atque blanditiis, laboriosam
    incidunt voluptate sunt neque? Ipsa sint iste quisquam magni, explicabo
    dignissimos sequi corrupti consequatur laboriosam quia pariatur recusandae
    ad voluptatibus velit ipsum animi impedit dolore repellendus, et omnis nihil
    harum? Iusto iure eaque ut porro officiis, doloribus animi mollitia commodi
    ab. Vel, illum molestias quis laboriosam distinctio reprehenderit sint
    impedit ea nihil mollitia, aliquid aspernatur pariatur nobis repudiandae
    sunt? Minima omnis libero, voluptates, odio quod earum consequuntur
    repellendus quam vero vitae hic quo voluptatem non esse fuga consectetur
    adipisci iure aut quos assumenda porro? Porro consequuntur cupiditate enim
    neque qui necessitatibus dolorem earum nobis labore delectus. Quia at,
    debitis facilis architecto velit harum est excepturi perspiciatis doloribus,
    officiis tempore numquam. Ad atque laborum officia possimus iusto nam nulla
    nemo, nostrum nobis excepturi maxime amet! Enim cumque ad placeat officiis
    excepturi alias tempore qui consequuntur possimus sed repudiandae, laborum
    quam, atque voluptas earum tempora natus quia dolor ratione! Voluptatibus
    porro repudiandae, eveniet molestias, veniam sint deleniti inventore maxime
    iusto beatae itaque suscipit cumque minus iure. Modi cum laudantium aliquid
    alias! Tenetur deleniti voluptates perspiciatis dignissimos non delectus
    itaque atque, ullam iste veniam qui fuga quidem animi nemo incidunt vitae
    facere dolores, tempora nulla nobis corporis mollitia?
  </div>
);

const AppLayout = ({ children }: { children: ReactNode }) => {
  const user = useAuthStore((s) => s.user);
  console.log("user", user);

  return (
    <>
      {/* <div className="flex min-h-screen bg-gray-50">
        
        <Sidebar />

        
        <div className="fixed top-0 left-0 right-0 bg-white z-10 md:left-64 px-4 py-3">
          <UserProfile
            name={user?.profile?.username ?? "default"}
            coinBalance={user?.account?.balance ?? "null"}
            // profileImage="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100"
            notifications={3}
          />
        </div>

       
        <div className="flex-1 md:ml-64 relative">
          <div className="h-screen overflow-y-auto pt-20 pb-20 md:pb-6">
            <div className="max-w-full overflow-x-hidden">{children}</div>
          </div>
        </div>

        
        <MobileNav />
      </div> */}

      {/* new */}

      <div className="bg-red-500 w-full max-h-[100dvh] min-h-[100dvh] h-[100dvh] overflow-hidden flex flex-col-reverse md:flex-row">
        <div className="bg-green-500 h-full w-full basis-[0.22] max-h-20 max-w-[dvh] md:max-h-none md:basis-auto md:max-w-64 md:w-64 md:min-w-64">
          {/* mobile nav */}
          <div className="block md:hidden">
            <MobileNav />
          </div>

          {/* desktop nav */}
          <div className="hidden md:block">
            <DesktopNav />
          </div>
        </div>
        <div className="bg-blue-500 h-full w-full max-w-[dvh] md:max-w-none">
          <Main />
        </div>
      </div>
    </>
  );
};

export default AppLayout;

const DesktopNav = () => {
  return (
    <div className="bg-orange-500 w-full min-h-[100dvh] max-h-[100dvh] flex flex-col">
      <div className="bg-purple-500 h-40 min-h-40 max-h-40 shrink-0">
        <VeryLargeText />
      </div>
      <div
        className="bg-cyan-500 overflow-y-auto"
        style={{
          maxHeight: "calc(100dvh - 21rem)",
          minHeight: "calc(100dvh - 21rem)",
          height: "calc(100dvh - 21rem)",
        }}
      >
        <VeryLargeText />
      </div>
      <div className="bg-amber-500 h-44 min-h-44 max-h-44 shrink-0">
        <VeryLargeText />
      </div>
    </div>
  );
};

const MobileNav = () => {
  return <div></div>;
};

const Main = () => {
  return (
    <div className="bg-teal-500 w-full min-h-[100dvh] max-h-[100dvh] flex justify-center">
      <div className="bg-red-500 min-h-[100dvh] max-h-[100dvh] flex flex-col w-full max-w-[768px]">
        <div className="bg-gray-500 h-40 min-h-20 max-h-20 shrink-0">
          <VeryLargeText />
        </div>
        <div className="bg-lime-500 overflow-y-auto main-ht">
          <VeryLargeText />
        </div>
      </div>
    </div>
  );
};
